\documentclass[a4paper, twoside]{book}
\usepackage{url, graphicx, wrapfig, ifthen, enumitem, makeidx, microtype, booktabs, caption}
\usepackage{currfile, multicol, float, subcaption, textcomp}
\usepackage[numbib, numindex]{tocbibind}
\usepackage[superscript]{cite}
\makeindex
\renewcommand{\thesection}{\arabic{section}}
\setcounter{secnumdepth}{0}

% Citation back references.
\usepackage[pagebackref=true]{hyperref}
\renewcommand*{\backref}[1]{}
\renewcommand*{\backrefalt}[4]{\emph{%
	\ifcase #1 Not cited.\todo{Not cited!}%
	\or Cited on page~#2.%
	\else Cited on pages #2.%
	\fi%
}}

% Smaller quotations
\usepackage{relsize,etoolbox}
\AtBeginEnvironment{quotation}{\smaller}

\title{H. M. Wilson Family Tree}
\author{\url{http://samwilson.github.io/hmw}}

\hypersetup{
  colorlinks   = true, %Colours links instead of ugly boxes
  urlcolor     = blue, %Colour for external hyperlinks
  linkcolor    = black, %Colour of internal links
  citecolor    = black  %Colour of citations
}


% ---- \biohead{Full Name}{Caption for photo.}
\newcommand{\biohead}[2]{%
	\section{\idx{#1}}\label{\currfilebase}%
	\ifthenelse { \equal {#2} {} }%
	{} % If #2 is empty, do nothing
	{ % Otherwise, do the figure
		\begin{figure}[H]
			\centering
			\includegraphics[width=0.45\linewidth]{photos/\currfilebase} \\
			{\footnotesize #2}%
			\label{fig:\currfilebase}
		\end{figure}%
	}%
}

% ---- \bioref{File_Name_of_Person}
\newcommand{\bioref}[1]{\textsc{\nameref{#1}}}

% ---- \p{label} results in e.g. "p. 3"
\newcommand{\p}[1]{p.~\pageref{#1}}

% ---- Index entries: \idx{}
\newcommand{\idx}[1]{#1\index{#1}}


\begin{document}
\maketitle
\tableofcontents

\chapter{}
% Generation 1
\input{biographies/Millicent_Joyce_Branson_Clifton}
\input{biographies/Madge_Louise_Clifton}
\input{biographies/John_Bruan_Luard_Gilmour}
\input{biographies/Joan_Leake_Hall}
\input{biographies/Constance_Boyd_Hall}
\input{biographies/Alan_Louis_Mathew_Berryman}
\input{biographies/Peter_Innes_Donegan}
\input{biographies/Helen_Margaret_Hall}
\input{biographies/William_Murray_Wilson}
\input{biographies/Herbert_Bruce_Wilson}
\input{biographies/Iris_Arnold}
\input{biographies/Lilian_Rae_Wilson}
\input{biographies/Frank_Bertram_Hussey}
\input{biographies/Olive_Adele_Wilson}
\input{biographies/Frederick_Gordon_Wilson}
\input{biographies/Dorothy_Jean_McHarg_Wilson}

\chapter{}
% Generation 2
\input{biographies/William_Shakespeare_Hall_Jr}
\input{biographies/Joy_Hannah_Emma_Margaret_Hall}
\input{biographies/Gervase_Clifton}
\input{biographies/Grace_Hall}
\input{biographies/Henry_Ernest_Hall}
\input{biographies/Harold_Aubrey_Hall}
\input{biographies/Helen_Rose_Lodge}
\input{biographies/Robert_John_Lodge}
\input{biographies/Joan_Soutter_Lodge}
\input{biographies/Norman_Martin}
\input{biographies/Jessie_Wilson}
\input{biographies/Andrew_Oswald_Wilson}
\input{biographies/James_Herbert_Wilson}
\input{biographies/Edith_Olive_Hall}
\input{biographies/Ada_Maud_Florence_Hall}
\input{biographies/Lilian_Bertha_Ella_Hall}
\input{biographies/James_Herbert_Hamersley_Hall}
\input{biographies/Hubert_Sylvian_Hall}
\input{biographies/Syndey_Randel_Hall}

\chapter{}
% Generation 3
\input{biographies/William_Shakespeare_Hall}
\input{biographies/Hannah_Boyd_Lazenby}
\input{biographies/Sarah_Constance_Leake}
\input{biographies/Thomas_Soutter_Lodge}
\input{biographies/William_Wilson}
\input{biographies/Mary_McHarg}
\input{biographies/James_Anderton_Hall}
\input{biographies/Lilian_Helena_Bruce}

\input{bibliography}
\printindex
\end{document}
